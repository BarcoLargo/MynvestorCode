<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Mynvestor</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><style>*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}#transfers .card-title {text-align: center;white-space: normal;overflow: visible;text-overflow: initial;max-width: 100%;}body{background:#454e55;padding:60px 0 80px;min-height:100vh;color:#d0d4d6}.sidebar{position:fixed;left:-250px;top:0;width:250px;height:100%;background:#001f3f;transition:all .3s;z-index:999}.sidebar.active{left:0}.sidebar-header{padding:20px;background:#001529;color:#fff;border-bottom:1px solid #00284f}.sidebar-menu{list-style:none;padding:20px 0}.sidebar-menu li a,.sidebar-footer a{color:#d0d4d6;padding:15px 25px;display:flex;align-items:center;text-decoration:none;transition:.3s}.sidebar-menu li a:hover,.sidebar-footer a:hover{background:#00284f;color:#fff}.sidebar-menu li a i{width:30px}.sidebar-footer{position:absolute;bottom:0;width:100%;padding:20px;border-top:1px solid #00284f}.balance-card{border:1px solid #495057;border-radius:8px;background:#2c3034;margin:.5rem}.balance-card .card-body{padding:.75rem}.balance-card small{font-size:.75rem;color:#adb5bd}.balance-card .fw-bold{font-size:.9rem}.top-nav{position:fixed;top:0;width:100%;background:#001f3f;padding:10px 20px;display:flex;align-items:center;justify-content:space-between;color:#fff;z-index:1000}.profile-pic{width:40px;height:40px;border-radius:50%;overflow:hidden;border:2px solid #fff;transition:transform .2s}.profile-pic:hover{transform:scale(1.1)}.profile-pic img{width:100%;height:100%;object-fit:cover}.profile-initials{width:100%;height:100%;background:#28a745;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:700}.company-name{font-size:1.4rem;font-weight:700}.notifications-icon{cursor:pointer;padding:8px;color:#fff;font-size:24px}.content-section{display:none;padding:20px 20px 80px;min-height:calc(100vh - 160px);opacity:0;transform:translateY(20px);transition:all .5s ease;position:absolute;top:60px;left:0;right:0}.content-section.active{display:block;opacity:1;transform:translateY(0)}.loading{color:#28a745;font-style:italic;display:none}.footer-nav{position:fixed;bottom:0;width:100%;background:#001f3f;padding:10px 0;display:flex;justify-content:space-around;align-items:center;border-top:1px solid #00284f}.nav-item{display:flex;flex-direction:column;align-items:center;color:#fff;text-decoration:none;font-size:.8rem;transition:transform .2s;padding:5px}.nav-item:hover{transform:translateY(-3px)}.nav-item.active{color:#28a745;background:#003366;border-radius:5px}.jon{color:#24ac44}.nav-icon{font-size:20px;margin-bottom:6px;color:inherit}.index-chart{height:200px;background:#2c3034;border:1px solid #495057;border-radius:8px;padding:15px;position:relative;padding-top:40px}.index-name{position:absolute;top:10px;left:15px;font-size:1rem;color:#d0d4d6;font-weight:700}.index-points{position:absolute;top:10px;right:15px;font-size:1rem;color:#28a745;font-weight:700}.company-card{background:#2c3034;border:1px solid #495057;border-radius:8px;padding:10px;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:space-between;min-height:70px;box-shadow:0 2px 6px rgba(0,0,0,.1);margin-bottom:.5rem}.company-card:hover{background:#003366;box-shadow:0 6px 12px rgba(0,0,0,.2)}.company-logo{width:40px;height:40px;object-fit:contain;border-radius:50%;flex-shrink:0}.price-change-up{color:#28a745}.price-change-down{color:#dc3545}.card-title{color:#fff;font-size:.9rem;margin-bottom:.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.card-title.long-name{font-size:.75rem}.card-text{color:#adb5bd;font-size:.85rem;margin:0}.share-price{color:#fff;font-size:.95rem;font-weight:700;text-align:right}.daily-change{font-size:.85rem;text-align:right}.company-info{display:flex;align-items:center;flex-grow:1;overflow:hidden}.price-info{flex-shrink:0;text-align:right;min-width:120px}.portfolio-summary{background:linear-gradient(135deg,#2c3034 0%,#003366 100%);border:1px solid #495057;border-radius:12px;padding:15px;margin-bottom:.5rem;box-shadow:0 4px 12px rgba(0,0,0,.2);color:#fff}.portfolio-summary h2{font-size:1.5rem;margin-bottom:15px}.portfolio-summary .row div{font-size:1rem;display:flex;align-items:center;gap:8px;flex-wrap:wrap}.portfolio-summary .fw-bold{font-size:1.25rem}.chart-card{background:#2c3034;border:1px solid #495057;border-radius:8px;padding:15px;margin-bottom:.5rem;position:relative;width:100%;max-width:600px;margin-left:auto;margin-right:auto;overflow:hidden;color:#fff}.chart-card h3{font-size:1.25rem;margin-bottom:10px}.chart-card canvas{width:100%!important;height:200px!important;max-height:200px}.portfolio-card{background:#2c3034;border:1px solid #495057;border-radius:12px;padding:10px;margin-bottom:.5rem;display:flex;justify-content:space-between;align-items:center;min-height:90px;transition:all .2s;box-shadow:0 2px 6px rgba(0,0,0,.1);width:100%;max-width:700px;margin-left:auto;margin-right:auto;color:#fff}.portfolio-card:hover{transform:translateY(-3px);box-shadow:0 6px 12px rgba(0,0,0,.2)}.portfolio-info{display:flex;align-items:center;flex-grow:1;overflow:hidden}.portfolio-details{flex-grow:1;margin-left:12px}.portfolio-details .card-text{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.portfolio-actions{flex-shrink:0;display:flex;gap:8px}.btn-buy,.btn-sell{font-size:.85rem;padding:5px 10px;border-radius:6px;transition:background-color .2s}.btn-buy{background:#28a745;border-color:#28a745}.btn-buy:hover{background:#218838}.btn-sell{background:#dc3545;border-color:#dc3545}.btn-sell:hover{background:#c82333}.card{background:#2c3034;border:1px solid #495057;border-radius:8px;margin-bottom:.5rem}.card-body{padding:.75rem}.form-control.bg-dark{background:#2c3034;border:1px solid #495057;color:#fff}.form-control.bg-dark::placeholder{color:#adb5bd;opacity:1}.form-control.bg-dark:focus{background:#2c3034;border-color:#28a745;box-shadow:none;color:#fff}.form-select.bg-dark{background:#2c3034;border:1px solid #495057;color:#fff}.form-select.bg-dark option{background:#2c3034;color:#fff}.list-group-item.bg-dark{background:#2c3034;border:1px solid #495057;color:#fff}.list-group-item.bg-dark:hover{background:#003366}.table-dark{background:#2c3034;border:1px solid #495057}.table-dark th{background:#212529;color:#fff}.table-dark td{color:#d0d4d6}.badge{padding:.5em .75em;border-radius:20px;font-size:.85rem;color:#fff}.bg-success{background:#28a745!important}.bg-danger{background:#dc3545!important}.bg-warning{background:#ffc107!important}.modal-content.bg-dark{background:#2c3034;color:#fff;border:1px solid #495057}.modal-content.bg-dark .modal-header,.modal-content.bg-dark .modal-footer{border-color:#495057;padding:.75rem}.modal-content.bg-dark .btn-close{filter:invert(1)}.btn-details{background:#17a2b8;border-color:#17a2b8}.btn-details:hover{background:#138496}.stock-info-row{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #495057}.stock-info-label{color:#adb5bd}.stock-info-value{font-weight:500}#companyDetailsModal .modal-content{background:#2c3034;color:#fff;border:1px solid #495057;border-radius:12px}#companyDetailsModal .modal-header{border-bottom:1px solid #495057;padding:1rem}#companyDetailsModal .modal-body{padding:1.5rem}#companyDetailsModal h1{font-size:1.8rem;color:#fff}#companyDetailsModal h2{font-size:1.5rem;color:#fff}#companyDetailsModal h5{font-size:1.25rem;color:#fff}#companyDetailsModal h6{font-size:1rem;color:#e9ecef;font-weight:600}#companyDetailsModal .card{background:#2c3034;border:1px solid #495057;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.1)}#companyDetailsModal .card-body{padding:1rem}#companyDetailsModal .text-muted{color:#adb5bd!important}#companyDetailsModal .badge.bg-success{background:#28a745}#companyDetailsModal .text-success{color:#28a745!important}#companyDetailsModal .progress{background:#212529}#companyDetailsModal .progress-bar{background:#007bff;color:#fff;text-align:left;padding-left:5px}#companyDetailsModal .table td{color:#adb5bd}#companyDetailsModal a.text-white{color:#fff;text-decoration:none}#companyDetailsModal a.text-white:hover{text-decoration:underline}#trade .card{background:linear-gradient(145deg,#2c3034 0%,#1a1e22 100%);border:1px solhjnid #5a6268;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,.3);padding:15px;margin-bottom:1rem;transition:transform .2s}#trade .card:hover{transform:translateY(-5px)}#trade .card-body{padding:0}#trade h1{color:#fff;font-size:1.8rem;margin-bottom:1.5rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}#trade .form-control.bg-dark{background:linear-gradient(145deg,#2c3034 0%,#1a1e22 100%);border:1px solid #5a6268;color:#fff;font-weight:500;box-shadow:inset 0 2px 5px rgba(0,0,0,.2)}#trade .form-control.bg-dark:focus{background:linear-gradient(145deg,#2c3034 0%,#1a1e22 100%);border-color:#28a745;color:#fff}#trade .list-group-item.bg-dark{background:#2c3034;border:1px solid #5a6268;color:#fff;font-weight:500;transition:background .2s}#trade .list-group-item.bg-dark:hover{background:#003366;color:#fff}#trade .card.bg-dark.selected-company{background:linear-gradient(145deg,#003366 0%,#00284f 100%);border:1px solid #5a6268;border-radius:10px;padding:15px;margin-bottom:1rem;box-shadow:0 4px 15px rgba(0,0,0,.3)}#trade h4{color:#fff;font-size:1.4rem;margin-bottom:.5rem;text-shadow:0 1px 3px rgba(0,0,0,.4)}#trade .h5{color:#e9ecef;font-weight:600}#trade .text-success{color:#28a745!important;font-weight:600}#trade .btn-group .btn{background:linear-gradient(145deg,#28a745 0%,#218838 100%);border:none;color:#fff;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.3);transition:background .2s}#trade .btn-group .btn.active{background:linear-gradient(145deg,#218838 0%,#1e7e34 100%)}#trade .btn-group .btn-danger{background:linear-gradient(145deg,#dc3545 0%,#c82333 100%)}#trade .btn-group .btn-danger.active{background:linear-gradient(145deg,#c82333 0%,#b21f2d 100%)}#trade .form-select.bg-dark{background:linear-gradient(145deg,#2c3034 0%,#1a1e22 100%);border:1px solid #5a6268;color:#fff;font-weight:500}#trade .card.bg-dark.totals{background:linear-gradient(145deg,#2c3034 0%,#1a1e22 100%);border:1px solid #5a6268;border-radius:10px;padding:10px;box-shadow:0 4px 15px rgba(0,0,0,.3)}#trade .card.bg-dark.totals .small{color:#adb5bd;font-weight:500}#trade .card.bg-dark.totals .fw-bold{color:#fff;font-weight:600}#trade .btn-primary{background:linear-gradient(145deg,#17a2b8 0%,#138496 100%);border:none;color:#fff;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.3);border-radius:8px;padding:10px;transition:background .2s}#trade .btn-primary:hover{background:linear-gradient(145deg,#138496 0%,#117a8b 100%)}#trade .table-dark{background:linear-gradient(145deg,#2c3034 0%,#1a1e22 100%);border:1px solid #5a6268;border-radius:12px;overflow:hidden;box-shadow:0 4px 15px rgba(0,0,0,.3)}#trade .table-dark th{background:linear-gradient(145deg,#212529 0%,#1a1e22 100%);color:#fff;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.3)}#trade .table-dark td{color:#d0d4d6;font-weight:500}#transfers .card{background:linear-gradient(145deg,#2c3034 0%,#1a1e22 100%);border:1px solid #5a6268;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,.3);padding:10px;transition:transform .2s;max-width:300px;margin:0 auto}#transfers .card:hover{transform:scale(1.05)}#transfers .card-body{text-align:center;padding:10px}#transfers .card-title{color:#fff;font-size:1.2rem;margin-bottom:.75rem;text-shadow:0 1px 3px rgba(0,0,0,.4)}#transfers .card-text{color:#d0d4d6;font-size:.9rem;margin-bottom:1rem;font-weight:500}#transfers .btn-outline-warning{background:linear-gradient(145deg,#ffc107 0%,#e0a800 100%);border:none;color:#fff;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.3)}#transfers .btn-outline-primary{background:linear-gradient(145deg,#17a2b8 0%,#138496 100%);border:none;color:#fff;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.3)}#transfers .btn-outline-success{background:linear-gradient(145deg,#28a745 0%,#218838 100%);border:none;color:#fff;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.3)}@media (max-width:768px){.footer-nav{padding:5px 0}.nav-item{font-size:.7rem}.nav-icon{font-size:18px}.index-chart{height:150px}.company-card{padding:10px;min-height:70px}.portfolio-card{padding:10px;min-height:80px}.card-title{max-width:120px}.chart-card{max-width:100%}.chart-card canvas{height:180px!important}.portfolio-summary .row div{font-size:.9rem}.portfolio-summary .fw-bold{font-size:1.1rem}.card-body{padding:.5rem}@media (max-width:576px){.card-title{max-width:100px}.company-card{padding:10px;min-height:70px;display:flex;align-items:center;justify-content:space-between}.portfolio-card{flex-direction:column;align-items:flex-start;padding:8px;min-height:120px}.company-info{flex-grow:1}.portfolio-info{width:100%}.portfolio-details .card-text{font-size:.8rem}.price-info{min-width:100px;text-align:right}.portfolio-actions{width:100%;margin-top:8px;justify-content:flex-start}.chart-card canvas{height:160px!important}.portfolio-summary .row div{font-size:.85rem}.portfolio-summary .fw-bold{font-size:1rem}.card-body{padding:.5rem}.btn-group{flex-direction:column}.btn-group .btn{width:100%;margin-bottom:5px}}</style></head><body><nav class="top-nav"><div class="profile-pic" id="profile-pic-container"><div class="profile-initials" id="user-initials">JD</div></div><div class="company-name"><span class="jon">Myn</span>vestor</div><i class="bi bi-list notifications-icon" aria-label="Open Menu"></i></nav><section id="market" class="content-section"><div class="loading" id="market-loading">Loading...</div><h1 class="mb-2"><i class="bi bi-bar-chart-line me-2"></i>Market</h1><div class="row mb-2"><div class="col-md-4 mb-1"><div class="index-chart"><span class="index-name">MASI</span><span class="index-points" id="masi-points">10,800</span><canvas id="masiChart"></canvas></div></div><div class="col-md-4 mb-1"><div class="index-chart"><span class="index-name">DSI</span><span class="index-points" id="dsi-points">8,450</span><canvas id="dsiChart"></canvas></div></div><div class="col-md-4 mb-1"><div class="index-chart"><span class="index-name">FSI</span><span class="index-points" id="fsi-points">4,700</span><canvas id="fsiChart"></canvas></div></div></div><h2 class="mb-2"><i class="bi bi-arrow-up-circle me-2"></i>Top Gainers</h2><div class="row mb-2"><div class="col-md-4"><div class="company-card" data-company="AIRTEL"><div class="company-info"><img src="airtel.jpg" alt="Airtel Logo" class="company-logo me-3"><div><h5 class="card-title">Airtel Malawi</h5><p class="card-text">AIRTEL</p></div></div><div class="price-info"><div class="share-price">MK 52.30</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+2.10 (+4.18%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="NBM"><div class="company-info"><img src="Nb.png" alt="NBM Logo" class="company-logo me-3"><div><h5 class="card-title">National Bank</h5><p class="card-text">NBM</p></div></div><div class="price-info"><div class="share-price">MK 1,234.50</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+34.50 (+2.87%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="TNM"><div class="company-info"><img src="Tnm.png" alt="TNM Logo" class="company-logo me-3"><div><h5 class="card-title">Telekom Networks</h5><p class="card-text">TNM</p></div></div><div class="price-info"><div class="share-price">MK 18.75</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+0.45 (+2.46%)</div></div></div></div></div><h2 class="mb-2"><i class="bi bi-arrow-down-circle me-2"></i>Top Losers</h2><div class="row mb-2"><div class="col-md-4"><div class="company-card" data-company="ILLOVO"><div class="company-info"><img src="illovo.png" alt="Illovo Logo" class="company-logo me-3"><div><h5 class="card-title">Illovo Sugar</h5><p class="card-text">ILLOVO</p></div></div><div class="price-info"><div class="share-price">MK 305.20</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-15.80 (-4.92%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="PCL"><div class="company-info"><img src="Pcl.png" alt="PCL Logo" class="company-logo me-3"><div><h5 class="card-title">Press Corp Ltd</h5><p class="card-text">PCL</p></div></div><div class="price-info"><div class="share-price">MK 2,150.00</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-50.00 (-2.27%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="STANBIC"><div class="company-info"><img src="Std.jpg" alt="Stanbic Logo" class="company-logo me-3"><div><h5 class="card-title">Standard Bank</h5><p class="card-text">STANBIC</p></div></div><div class="price-info"><div class="share-price">MK 3,890.10</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-45.90 (-1.17%)</div></div></div></div></div><h2 class="mb-2"><i class="bi bi-graph-up me-2"></i>Volume Gainers</h2><div class="row"><div class="col-md-4"><div class="company-card" data-company="NBM"><div class="company-info"><img src="Nb.png" alt="NBM Logo" class="company-logo me-3"><div><h5 class="card-title">National Bank</h5><p class="card-text">NBM - 245,670 shares</p></div></div><div class="price-info"><div class="share-price">MK 1,234.50</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+34.50 (+2.87%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="AIRTEL"><div class="company-info"><img src="airtel.jpg" alt="Airtel Logo" class="company-logo me-3"><div><h5 class="card-title">Airtel Malawi</h5><p class="card-text">AIRTEL - 187,450 shares</p></div></div><div class="price-info"><div class="share-price">MK 52.30</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+2.10 (+4.18%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="STANBIC"><div class="company-info"><img src="Std.jpg" alt="Stanbic Logo" class="company-logo me-3"><div><h5 class="card-title">Standard Bank</h5><p class="card-text">STANBIC - 156,230 shares</p></div></div><div class="price-info"><div class="share-price">MK 3,890.10</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-45.90 (-1.17%)</div></div></div></div></div></section><div class="modal fade" id="companyDetailsModal" tabindex="-1"><div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-building me-2"></i><span id="companyDetailsName"></span></h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="row align-items-center mb-4"><div class="col-md-8 d-flex align-items-center"><img id="companyDetailsLogo" class="company-logo rounded-circle me-3" alt="Company Logo"><div><h1 class="mb-0" id="companyDetailsFullName"></h1><p class="mb-0 text-muted" id="companyDetailsSector"></p></div></div><div class="col-md-4 text-end"><h2 class="mb-0" id="companyDetailsPrice"><span id="companyDetailsChange" class="badge"></span></h2><p class="text-muted mb-0" id="companyDetailsLastUpdate"></p></div></div><div class="card mb-4"><div class="card-body"><h5 class="mb-3"><i class="bi bi-building me-2"></i>Company Overview</h5><p class="text-muted mb-0" id="companyDetailsOverview"></p></div></div><div class="row g-2 mb-4" id="companyDetailsStats"><div class="col-6 col-md-2"><div class="card"><div class="card-body"><small class="text-muted">Day Range</small><h6 class="mb-0" id="companyDetailsDayRange"></h6></div></div></div><div class="col-6 col-md-2"><div class="card"><div class="card-body"><small class="text-muted">52W Range</small><h6 class="mb-0" id="companyDetails52WRange"></h6></div></div></div><div class="col-6 col-md-2"><div class="card"><div class="card-body"><small class="text-muted">Volume</small><h6 class="mb-0" id="companyDetailsVolume"></h6></div></div></div><div class="col-6 col-md-2"><div class="card"><div class="card-body"><small class="text-muted">Market Cap</small><h6 class="mb-0" id="companyDetailsMarketCap"></h6></div></div></div><div class="col-6 col-md-2"><div class="card"><div class="card-body"><small class="text-muted">P/E Ratio</small><h6 class="mb-0" id="companyDetailsPE"></h6></div></div></div><div class="col-6 col-md-2"><div class="card"><div class="card-body"><small class="text-muted">Div Yield</small><h6 class="mb-0" id="companyDetailsDivYield"></h6></div></div></div></div><div class="row"><div class="col-md-6 mb-4"><div class="card"><div class="card-body"><h5 class="mb-3"><i class="bi bi-speedometer2 me-2"></i>Technical Analysis</h5><div class="row" id="companyDetailsTechnical"><div class="col-6"><small class="text-muted">RSI (14)</small><h6 id="companyDetailsRSI"></h6></div><div class="col-6"><small class="text-muted">MACD</small><h6 id="companyDetailsMACD"></h6></div><div class="col-6"><small class="text-muted">50 DMA</small><h6 id="companyDetails50DMA"></h6></div><div class="col-6"><small class="text-muted">200 DMA</small><h6 id="companyDetails200DMA"></h6></div></div><div class="mt-3"><small class="text-muted">Summary:</small><p class="mb-0" id="companyDetailsTechSummary"></p></div></div></div></div><div class="col-md-6 mb-4"><div class="card"><div class="card-body"><h5 class="mb-3"><i class="bi bi-bar-chart-line me-2"></i>Fundamental Analysis</h5><div class="row" id="companyDetailsFundamental"><div class="col-6"><small class="text-muted">EPS</small><h6 id="companyDetailsEPS"></h6></div><div class="col-6"><small class="text-muted">ROE</small><h6 id="companyDetailsROE"></h6></div><div class="col-6"><small class="text-muted">Debt/Equity</small><h6 id="companyDetailsDebtEquity"></h6></div><div class="col-6"><small class="text-muted">P/B Ratio</small><h6 id="companyDetailsPB"></h6></div></div><div class="mt-3"><small class="text-muted">Summary:</small><p class="mb-0" id="companyDetailsFundSummary"></p></div></div></div></div></div><div class="row"><div class="col-md-4 mb-4"><div class="card"><div class="card-body"><h5 class="mb-3"><i class="bi bi-newspaper me-2"></i>Recent News</h5><ul class="list-unstyled" id="companyDetailsNews"></ul></div></div></div><div class="col-md-4 mb-4"><div class="card"><div class="card-body"><h5 class="mb-3"><i class="bi bi-file-earmark-text me-2"></i>Key Ratios</h5><table class="table table-borderless text-muted mb-0" id="companyDetailsRatios"><tr><td>PEG Ratio</td><td id="companyDetailsPEG"></td></tr><tr><td>Current Ratio</td><td id="companyDetailsCurrentRatio"></td></tr><tr><td>ROIC</td><td id="companyDetailsROIC"></td></tr><tr><td>EBITDA Margin</td><td id="companyDetailsEBITDA"></td></tr></table></div></div></div><div class="col-md-4 mb-4"><div class="card"><div class="card-body"><h5 class="mb-3"><i class="bi bi-people me-2"></i>Ownership</h5><div class="progress mb-2 bg-dark" style="height: 20px;"><div class="progress-bar" role="progressbar" id="companyDetailsInst" style="width: 0%"></div></div><div class="progress mb-2 bg-dark" style="height: 20px;"><div class="progress-bar bg-success" role="progressbar" id="companyDetailsInsiders" style="width: 0%"></div></div><div class="progress mb-2 bg-dark" style="height: 20px;"><div class="progress-bar bg-info" role="progressbar" id="companyDetailsPublic" style="width: 0%"></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button></div></div></div></div><section id="companies" class="content-section"><div class="loading" id="companies-loading">Loading...</div><h1 class="mb-2"><i class="bi bi-building me-2"></i>Listed Companies</h1><div class="row"><div class="col-md-4"><div class="company-card" data-company="AIRTEL"><div class="company-info"><img src="airtel.jpg" alt="Airtel Logo" class="company-logo me-3"><div><h5 class="card-title">Airtel Malawi Ltd</h5><p class="card-text">AIRTEL</p></div></div><div class="price-info"><div class="share-price">MK 128.11</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+3.20 (+2.56%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="BHL"><div class="company-info"><img src="Bhl.png" alt="BHL Logo" class="company-logo me-3"><div><h5 class="card-title">BHL Ltd</h5><p class="card-text">BHL</p></div></div><div class="price-info"><div class="share-price">MK 14.54</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-0.35 (-2.35%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="FDH"><div class="company-info"><img src="FDH.png" alt="FDH Logo" class="company-logo me-3"><div><h5 class="card-title">FDH Bank Ltd</h5><p class="card-text">FDH</p></div></div><div class="price-info"><div class="share-price">MK 315.19</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+7.89 (+2.57%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="FMBCH"><div class="company-info"><img src="fmb.jpg" alt="FMBCH Logo" class="company-logo me-3"><div><h5 class="card-title">FMB Capital Holdings</h5><p class="card-text">FMBCH</p></div></div><div class="price-info"><div class="share-price">MK 1,412.24</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-25.50 (-1.77%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="ICON"><div class="company-info"><img src="icon.png" alt="ICON Logo" class="company-logo me-3"><div><h5 class="card-title">ICON Properties Ltd</h5><p class="card-text">ICON</p></div></div><div class="price-info"><div class="share-price">MK 17.94</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+0.45 (+2.57%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="ILLOVO"><div class="company-info"><img src="illovo.png" alt="Illovo Logo" class="company-logo me-3"><div><h5 class="card-title">Illovo Sugar Ltd</h5><p class="card-text">ILLOVO</p></div></div><div class="price-info"><div class="share-price">MK 1,791.69</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-35.80 (-1.96%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="MPICO"><div class="company-info"><img src="mpico.png" alt="MPICO Logo" class="company-logo me-3"><div><h5 class="card-title">MPICO Ltd</h5><p class="card-text">MPICO</p></div></div><div class="price-info"><div class="share-price">MK 19.00</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+0.50 (+2.70%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="NBM"><div class="company-info"><img src="Nb.png" alt="NBM Logo" class="company-logo me-3"><div><h5 class="card-title">National Bank Ltd</h5><p class="card-text">NBM</p></div></div><div class="price-info"><div class="share-price">MK 6,200.11</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+150.00 (+2.48%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="NBS"><div class="company-info"><img src="Nbs.png" alt="NBS Logo" class="company-logo me-3"><div><h5 class="card-title">NBS Bank Ltd</h5><p class="card-text">NBS</p></div></div><div class="price-info"><div class="share-price">MK 348.99</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-8.75 (-2.45%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="NICO"><div class="company-info"><img src="Nico.png" alt="NICO Logo" class="company-logo me-3"><div><h5 class="card-title">NICO Holdings Ltd</h5><p class="card-text">NICO</p></div></div><div class="price-info"><div class="share-price">MK 779.00</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+19.47 (+2.56%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="NITL"><div class="company-info"><img src="Nitl.png" alt="NITL Logo" class="company-logo me-3"><div><h5 class="card-title">NITL Ltd</h5><p class="card-text">NITL</p></div></div><div class="price-info"><div class="share-price">MK 634.09</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-12.68 (-1.96%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="OMU"><div class="company-info"><img src="Omu.jpg" alt="OMU Logo" class="company-logo me-3"><div><h5 class="card-title">Old Mutual Ltd</h5><p class="card-text">OMU</p></div></div><div class="price-info"><div class="share-price">MK 1,950.03</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+48.75 (+2.56%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="PCL"><div class="company-info"><img src="Pcl.png" alt="PCL Logo" class="company-logo me-3"><div><h5 class="card-title">Press Corp Ltd</h5><p class="card-text">PCL</p></div></div><div class="price-info"><div class="share-price">MK 2,500.03</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-50.00 (-1.96%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="STANDARD"><div class="company-info"><img src="Std.jpg" alt="Standard Logo" class="company-logo me-3"><div><h5 class="card-title">Standard Bank Ltd</h5><p class="card-text">STANDARD</p></div></div><div class="price-info"><div class="share-price">MK 7,935.07</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+198.38 (+2.56%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="SUNBIRD"><div class="company-info"><img src="Sunbird.svg" alt="Sunbird Logo" class="company-logo me-3"><div><h5 class="card-title">Sunbird Tourism Ltd</h5><p class="card-text">SUNBIRD</p></div></div><div class="price-info"><div class="share-price">MK 300.03</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-6.00 (-1.96%)</div></div></div></div><div class="col-md-4"><div class="company-card" data-company="TNM"><div class="company-info"><img src="Tnm.png" alt="TNM Logo" class="company-logo me-3"><div><h5 class="card-title">Telekom Networks Ltd</h5><p class="card-text">TNM</p></div></div><div class="price-info"><div class="share-price">MK 25.00</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+0.62 (+2.54%)</div></div></div></div></div></section><section id="portfolio" class="content-section active"><div class="loading" id="portfolio-loading">Loading...</div><h1 class="mb-2"><i class="bi bi-wallet2 me-2"></i>Portfolio</h1><div class="portfolio-summary"><h2><i class="bi bi-pie-chart me-2"></i>Portfolio Overview</h2><div class="row"><div class="col-md-4"><small class="text-muted d-block"><i class="bi bi-wallet me-1"></i>Total Value</small><span class="fw-bold">MK 26,185.56</span></div><div class="col-md-4"><small class="text-muted d-block"><i class="bi bi-cash-stack me-1"></i>Cash Balance</small><span class="fw-bold text-success">MK 4,364.26</span></div><div class="col-md-4"><small class="text-muted d-block"><i class="bi bi-graph-up me-1"></i>Daily Change</small><span class="fw-bold price-change-up">+MK 576.87 (+2.51%)</span></div></div></div><div class="chart-card"><h3><i class="bi bi-line-chart me-2"></i>Portfolio Performance</h3><canvas id="performanceChart"></canvas></div><div class="chart-card"><h3><i class="bi bi-pie-chart-fill me-2"></i>Asset Allocation</h3><canvas id="allocationChart"></canvas></div><h2 class="mb-2"><i class="bi bi-list-ul me-2"></i>Your Holdings</h2><div class="portfolio-card"><div class="portfolio-info"><img src="airtel.jpg" alt="Airtel Logo" class="company-logo me-3"><div class="portfolio-details"><h5 class="card-title">Airtel Malawi Ltd</h5><p class="card-text"><i class="bi bi-stack me-1"></i>50 Shares | <i class="bi bi-currency-exchange me-1"></i>MK 128.11</p></div></div><div class="price-info"><div class="share-price"><i class="bi bi-wallet me-1"></i>MK 6,405.50</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+160.00 (+2.56%)</div></div><div class="portfolio-actions"><button class="btn btn-buy text-white"><i class="bi bi-plus-circle me-1"></i>Buy</button><button class="btn btn-sell text-white"><i class="bi bi-dash-circle me-1"></i>Sell</button></div></div><div class="portfolio-card"><div class="portfolio-info"><img src="Nb.png" alt="NBM Logo" class="company-logo me-3"><div class="portfolio-details"><h5 class="card-title">National Bank Ltd</h5><p class="card-text"><i class="bi bi-stack me-1"></i>2 Shares | <i class="bi bi-currency-exchange me-1"></i>MK 6,200.11</p></div></div><div class="price-info"><div class="share-price"><i class="bi bi-wallet me-1"></i>MK 12,400.22</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+300.00 (+2.48%)</div></div><div class="portfolio-actions"><button class="btn btn-buy text-white"><i class="bi bi-plus-circle me-1"></i>Buy</button><button class="btn btn-sell text-white"><i class="bi bi-dash-circle me-1"></i>Sell</button></div></div><div class="portfolio-card"><div class="portfolio-info"><img src="Tnm.png" alt="TNM Logo" class="company-logo me-3"><div class="portfolio-details"><h5 class="card-title">Telekom Networks Ltd</h5><p class="card-text"><i class="bi bi-stack me-1"></i>100 Shares | <i class="bi bi-currency-exchange me-1"></i>MK 25.00</p></div></div><div class="price-info"><div class="share-price"><i class="bi bi-wallet me-1"></i>MK 2,500.00</div><div class="daily-change price-change-up"><i class="bi bi-arrow-up me-1"></i>+62.00 (+2.54%)</div></div><div class="portfolio-actions"><button class="btn btn-buy text-white"><i class="bi bi-plus-circle me-1"></i>Buy</button><button class="btn btn-sell text-white"><i class="bi bi-dash-circle me-1"></i>Sell</button></div></div><div class="portfolio-card"><div class="portfolio-info"><img src="illovo.png" alt="Illovo Logo" class="company-logo me-3"><div class="portfolio-details"><h5 class="card-title">Illovo Sugar Ltd</h5><p class="card-text"><i class="bi bi-stack me-1"></i>1 Share | <i class="bi bi-currency-exchange me-1"></i>MK 1,791.69</p></div></div><div class="price-info"><div class="share-price"><i class="bi bi-wallet me-1"></i>MK 1,791.69</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-35.80 (-1.96%)</div></div><div class="portfolio-actions"><button class="btn btn-buy text-white"><i class="bi bi-plus-circle me-1"></i>Buy</button><button class="btn btn-sell text-white"><i class="bi bi-dash-circle me-1"></i>Sell</button></div></div><div class="portfolio-card"><div class="portfolio-info"><img src="Pcl.png" alt="PCL Logo" class="company-logo me-3"><div class="portfolio-details"><h5 class="card-title">Press Corp Ltd</h5><p class="card-text"><i class="bi bi-stack me-1"></i>1 Share | <i class="bi bi-currency-exchange me-1"></i>MK 2,500.03</p></div></div><div class="price-info"><div class="share-price"><i class="bi bi-wallet me-1"></i>MK 2,500.03</div><div class="daily-change price-change-down"><i class="bi bi-arrow-down me-1"></i>-50.00 (-1.96%)</div></div><div class="portfolio-actions"><button class="btn btn-buy text-white"><i class="bi bi-plus-circle me-1"></i>Buy</button><button class="btn btn-sell text-white"><i class="bi bi-dash-circle me-1"></i>Sell</button></div></div></section><section id="trade" class="content-section"><div class="loading" id="trade-loading">Loading...</div><h1><i class="bi bi-arrow-left-right me-2"></i>Trade</h1><div class="card"><div class="card-body"><div class="mb-2"><input type="text" class="form-control bg-dark text-white" placeholder="Search companies..." id="companySearch"><div class="list-group mt-1" id="searchResults" style="display:none"><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">AIRTEL</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">BHL</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">FDH</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">FMBCH</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">ICON</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">ILLOVO</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">MPICO</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">NBM</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">NBS</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">NICO</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">NITL</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">OMU</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">PCL</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">STANDARD</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">SUNBIRD</a><a href="#" class="list-group-item list-group-item-action bg-dark text-white company-item">TNM</a></div></div><div class="card bg-dark selected-company mb-2"><div class="card-body"><div class="row align-items-center"><div class="col-8"><h4 id="selectedCompany">AIRTEL</h4><div class="d-flex align-items-center"><span class="h5 me-3" id="stockPrice">MK128.11</span><span class="text-success" id="priceChange">+2.56%</span></div></div><div class="col-4"><canvas id="miniChart" width="100" height="40"></canvas></div></div></div></div><div class="row g-2"><div class="col-12"><div class="btn-group w-100"><button class="btn btn-success active" id="btnBuy">Buy</button><button class="btn btn-danger" id="btnSell">Sell</button></div></div><div class="col-12"><select class="form-select bg-dark text-white" id="orderType"><option>Market Order</option><option>Limit Order</option><option>Stop Order</option></select></div><div class="col-12"><input type="number" class="form-control bg-dark text-white" placeholder="Quantity" id="quantity"></div><div class="col-12"><div class="card bg-dark totals p-2"><div class="d-flex justify-content-between small mb-1"><span>Total Shares Value:</span><span id="sharesValue">MK0.00</span></div><div class="d-flex justify-content-between small mb-1"><span>Commission (0.1%):</span><span id="commission">MK0.00</span></div><div class="d-flex justify-content-between small mb-1"><span>Transaction Fee:</span><span id="transactionFee">MK550</span></div><hr class="my-1"><div class="d-flex justify-content-between fw-bold"><span>Total Cost:</span><span id="totalCost">MK550</span></div></div></div><div class="col-12"><button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#orderModal">Preview Order</button></div></div></div></div><div class="mt-3"><h2 class="mb-2"><i class="bi bi-clock-history me-2"></i>Orders History</h2><div class="row g-1 mb-2"><div class="col-md-3"><select class="form-select bg-dark text-white border-secondary" id="orderTypeFilter"><option value="">All Order Types</option><option value="Market Order">Market Order</option><option value="Limit Order">Limit Order</option><option value="Stop Order">Stop Order</option></select></div><div class="col-md-3"><select class="form-select bg-dark text-white border-secondary" id="actionFilter"><option value="">All Actions</option><option value="Buy">Buy</option><option value="Sell">Sell</option></select></div><div class="col-md-3"><select class="form-select bg-dark text-white border-secondary" id="statusFilter"><option value="">All Status</option><option value="Completed">Completed</option><option value="Pending">Pending</option><option value="Cancelled">Cancelled</option></select></div><div class="col-md-3"><input type="date" class="form-control bg-dark text-white border-secondary" id="dateFilter"></div></div><div class="table-responsive"><table class="table table-dark table-hover"><thead><tr><th>Date</th><th>Company</th><th>Action</th><th>Order Type</th><th>Quantity</th><th>Total Cost</th><th>Status</th></tr></thead><tbody id="ordersTable"><tr><td>2025-03-20</td><td>AIRTEL</td><td>Buy</td><td>Market Order</td><td>100</td><td>MK12,911.00</td><td><span class="badge bg-success">Completed</span></td></tr><tr><td>2025-03-19</td><td>NBM</td><td>Sell</td><td>Limit Order</td><td>5</td><td>MK31,556.55</td><td><span class="badge bg-warning">Pending</span></td></tr><tr><td>2025-03-18</td><td>FDH</td><td>Buy</td><td>Stop Order</td><td>50</td><td>MK16,314.50</td><td><span class="badge bg-success">Completed</span></td></tr><tr><td>2025-03-17</td><td>TNM</td><td>Sell</td><td>Market Order</td><td>200</td><td>MK5,555.00</td><td><span class="badge bg-danger">Cancelled</span></td></tr></tbody></table></div></div></section><div class="modal fade" id="orderModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title">Order Confirmation</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="row small mb-1"><div class="col-6">Action:</div><div class="col-6 text-end text-success" id="modalAction">Buy</div><div class="col-6">Company:</div><div class="col-6 text-end" id="modalCompany">AIRTEL</div><div class="col-6">Order Type:</div><div class="col-6 text-end" id="modalType">Market Order</div><div class="col-6">Quantity:</div><div class="col-6 text-end" id="modalQty">0</div><div class="col-6">Price per Share:</div><div class="col-6 text-end" id="modalPrice">MK0.00</div><div class="col-6">Total Cost:</div><div class="col-6 text-end fw-bold" id="modalTotal">MK0.00</div></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button><button type="button" class="btn btn-primary" id="confirmOrder">Confirm Order</button></div></div></div></div><section id="transfers" class="content-section"><div class="loading" id="transfers-loading">Loading...</div><h1 class="mb-2"><i class="bi bi-cash-coin me-2"></i>Transfers</h1><div class="row g-2"><div class="col-md-12 col-lg-4"><div class="card h-100"><div class="card-body"><i class="bi bi-phone fs-1 text-warning mb-2"></i><h5 class="card-title">Mobile Money</h5><p class="card-text">Instant transfers via Mpamba and Airtel Money, etc</p><div class="d-flex gap-2 justify-content-center"><button class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#mobileMoneyDepositModal"><i class="bi bi-arrow-down-circle me-1"></i>Deposit</button><button class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#mobileMoneyWithdrawModal"><i class="bi bi-arrow-up-circle me-1"></i>Withdraw</button></div></div></div></div><div class="col-md-6 col-lg-4"><div class="card h-100"><div class="card-body"><i class="bi bi-bank fs-1 text-primary mb-2"></i><h5 class="card-title">Bank Transfer</h5><p class="card-text">Transfer funds directly from your registered bank account</p><div class="d-flex gap-2 justify-content-center"><button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#bankDepositModal"><i class="bi bi-arrow-down-circle me-1"></i>Deposit</button><button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#bankWithdrawModal"><i class="bi bi-arrow-up-circle me-1"></i>Withdraw</button></div></div></div></div><div class="col-md-6 col-lg-4"><div class="card h-100"><div class="card-body"><i class="bi bi-credit-card fs-1 text-success mb-2"></i><h5 class="card-title">Credit/Debit Card</h5><p class="card-text">Instant deposit using Visa or Mastercard</p><div class="d-flex gap-2 justify-content-center"><button class="btn btn-outline-success w-100" data-bs-toggle="modal" data-bs-target="#creditCardDepositModal">Deposit via Card</button></div></div></div></div></div><div class="mt-3"><h2 class="mb-2"><i class="bi bi-clock-history me-2"></i>Transaction History</h2><div class="row g-1 mb-2"><div class="col-md-3"><select class="form-select bg-dark text-white border-secondary" id="methodFilter"><option value="">All Methods</option><option value="Mobile Money">Mobile Money</option><option value="Bank Transfer">Bank Transfer</option><option value="Credit/Debit Card">Credit/Debit Card</option></select></div><div class="col-md-3"><select class="form-select bg-dark text-white border-secondary" id="typeFilter"><option value="">All Types</option><option value="Deposit">Deposit</option><option value="Withdrawal">Withdrawal</option></select></div><div class="col-md-3"><select class="form-select bg-dark text-white border-secondary" id="statusFilter"><option value="">All Status</option><option value="Completed">Completed</option><option value="Pending">Pending</option><option value="Failed">Failed</option></select></div><div class="col-md-3"><input type="date" class="form-control bg-dark text-white border-secondary" id="dateFilter"></div></div><div class="table-responsive"><table class="table table-dark table-hover"><thead><tr><th>Date</th><th>Method</th><th>Type</th><th>Amount</th><th>Status</th></tr></thead><tbody id="transactionTable"><tr><td>2025-03-20</td><td>Mobile Money</td><td>Deposit</td><td>MK50,000</td><td><span class="badge bg-success">Completed</span></td></tr><tr><td>2025-03-19</td><td>Bank Transfer</td><td>Withdrawal</td><td>MK30,000</td><td><span class="badge bg-warning">Pending</span></td></tr><tr><td>2025-03-18</td><td>Credit/Debit Card</td><td>Deposit</td><td>MK25,000</td><td><span class="badge bg-success">Completed</span></td></tr><tr><td>2025-03-17</td><td>Mobile Money</td><td>Withdrawal</td><td>MK15,000</td><td><span class="badge bg-danger">Failed</span></td></tr></tbody></table></div></div></section><div class="modal fade" id="mobileMoneyDepositModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-arrow-down-circle me-2"></i>Mobile Money Deposit</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><p class="text-muted mb-2">Instantly deposit funds using Mpamba or Airtel Money.</p><form id="mobileMoneyDepositForm"><div class="mb-2"><label for="depositProvider" class="form-label">Select Provider</label><select class="form-select bg-dark text-white" id="depositProvider" required><option value="" disabled selected>Select a provider</option><option value="mpamba">Mpamba</option><option value="airtel">Airtel Money</option></select></div><div class="mb-2"><label for="depositPhoneNumber" class="form-label">Phone Number</label><input type="tel" class="form-control bg-dark text-white" id="depositPhoneNumber" placeholder="+265 XXX XXX XXX" required></div><div class="mb-2"><label for="depositAmount" class="form-label">Amount (MK)</label><input type="number" class="form-control bg-dark text-white" id="depositAmount" placeholder="Enter amount in MK" min="100" required></div><button type="submit" class="btn btn-success w-100">Deposit Funds</button></form><p class="text-muted mt-2 small"><strong>Note:</strong> Ensure your mobile money account has sufficient funds.</p></div></div></div></div><div class="modal fade" id="mobileMoneyWithdrawModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-arrow-up-circle me-2"></i>Mobile Money Withdrawal</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><p class="text-muted mb-2">Withdraw funds to your mobile money account.</p><form id="mobileMoneyWithdrawForm"><div class="mb-2"><label for="withdrawProvider" class="form-label">Select Provider</label><select class="form-select bg-dark text-white" id="withdrawProvider" required><option value="" disabled selected>Select a provider</option><option value="mpamba">Mpamba</option><option value="airtel">Airtel Money</option></select></div><div class="mb-2"><label for="withdrawPhoneNumber" class="form-label">Phone Number</label><input type="tel" class="form-control bg-dark text-white" id="withdrawPhoneNumber" placeholder="+265 XXX XXX XXX" required></div><div class="mb-2"><label for="withdrawAmount" class="form-label">Amount (MK)</label><input type="number" class="form-control bg-dark text-white" id="withdrawAmount" placeholder="Enter amount in MK" min="100" max="4364.26" required></div><button type="submit" class="btn btn-danger w-100">Withdraw Funds</button></form><p class="text-muted mt-2 small"><strong>Note:</strong> Available balance: MK 4,364.26</p></div></div></div></div><nav class="footer-nav"><a href="#market" class="nav-item" title="View Market Data" aria-label="Market"><i class="bi bi-bar-chart-line nav-icon"></i>Market</a><a href="#companies" class="nav-item" title="Browse Companies" aria-label="Companies"><i class="bi bi-building nav-icon"></i>Companies</a><a href="#portfolio" class="nav-item active" title="Your Portfolio" aria-label="Portfolio"><i class="bi bi-wallet2 nav-icon"></i>Portfolio</a><a href="#trade" class="nav-item" title="Trade Assets" aria-label="Trade"><i class="bi bi-arrow-left-right nav-icon"></i>Trade</a><a href="#transfers" class="nav-item" title="Manage Transfers" aria-label="Transfers"><i class="bi bi-cash-coin nav-icon"></i>Transfers</a></nav><div class="sidebar"><div class="sidebar-header"><h5><i class="bi bi-app me-2"></i>Mynvestor</h5></div><div class="card balance-card bg-dark text-white"><div class="card-body"><div class="row"><div class="col-6 border-end border-secondary"><small class="text-muted d-block"><i class="bi bi-cash-stack me-1"></i>Cash Balance</small><span class="text-success fw-bold">MK 4,364.26</span></div><div class="col-6"><small class="text-muted d-block"><i class="bi bi-wallet me-1"></i>Portfolio Value</small><span class="text-muted fw-bold">MK 21,821.30</span></div></div></div></div><ul class="sidebar-menu"><li><a href="index1.html#dashboard" aria-label="Dashboard"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a></li><li><a href="index1.html#community" aria-label="community"><i class="bi bi-people me-2"></i>Community</a></li><li><a href="index1.html#reports" aria-label="News"><i class="bi bi-file-earmark-text me-2"></i>Reports</a></li><li><a href="index1.html#help" aria-label="Help & Support"><i class="bi bi-question-circle me-2"></i>Help & Support</a></li><li><a href="index1.html#settings" aria-label="Settings"><i class="bi bi-gear me-2"></i>Settings</a></li></ul><div class="sidebar-footer"><a href="login.html" aria-label="Log Out"><i class="bi bi-box-arrow-left me-2"></i>Log Out</a></div></div><div class="modal fade" id="stockQuoteModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><span id="modalCompanyName"></span> Stock Quote</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="d-flex align-items-center mb-2"><img id="modalCompanyLogo" class="company-logo me-3" alt="Company Logo"><div><h5 id="modalCompanyFullName" class="mb-0"></h5><p id="modalCompanyTicker" class="card-text mb-0"></p></div></div><div class="stock-info-row"><span class="stock-info-label">Current Price</span><span id="modalCurrentPrice" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Daily Change</span><span id="modalDailyChange" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Open</span><span id="modalOpen" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">High</span><span id="modalHigh" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Low</span><span id="modalLow" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Volume</span><span id="modalVolume" class="stock-info-value"></span></div></div><div class="modal-footer"><button class="btn btn-buy text-white" onclick="alert('Buy functionality to be implemented')"><i class="bi bi-plus-circle me-1"></i>Buy</button><button class="btn btn-sell text-white" onclick="alert('Sell functionality to be implemented')"><i class="bi bi-dash-circle me-1"></i>Sell</button><button class="btn btn-details text-white" id="modalDetailsBtn"><i class="bi bi-info-circle me-1"></i>Full Details</button></div></div></div></div><!-- Transaction Details Modal --><div class="modal fade" id="transactionDetailsModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-receipt me-2"></i>Transaction Details</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="stock-info-row"><span class="stock-info-label">Date</span><span id="modalTransDate" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Method</span><span id="modalTransMethod" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Type</span><span id="modalTransType" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Amount</span><span id="modalTransAmount" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Status</span><span id="modalTransStatus" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Transaction ID</span><span id="modalTransID" class="stock-info-value"></span></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button></div></div></div></div><div class="modal fade" id="bankDepositModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-arrow-down-circle me-2"></i>Bank Deposit</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><p class="text-muted mb-2">Deposit funds directly from your bank account.</p><form id="bankDepositForm"><div class="mb-2"><label for="bankAccount" class="form-label">Select Bank Account</label><select class="form-select bg-dark text-white" id="bankAccount" required><option value="" disabled selected>Select a bank account</option><option value="nbm">National Bank (**** 1234)</option><option value="standard">Standard Bank (**** 5678)</option><option value="fdh">FDH Bank (**** 9012)</option></select></div><div class="mb-2"><label for="bankDepositAmount" class="form-label">Amount (MK)</label><input type="number" class="form-control bg-dark text-white" id="bankDepositAmount" placeholder="Enter amount in MK" min="100" required></div><button type="submit" class="btn btn-primary w-100">Deposit Funds</button></form><p class="text-muted mt-2 small"><strong>Note:</strong> Deposits may take 1-3 business days to process.</p></div></div></div></div><div class="modal fade" id="bankWithdrawModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-arrow-up-circle me-2"></i>Bank Withdrawal</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><p class="text-muted mb-2">Withdraw funds to your registered bank account.</p><form id="bankWithdrawForm"><div class="mb-2"><label for="withdrawBankAccount" class="form-label">Select Bank Account</label><select class="form-select bg-dark text-white" id="withdrawBankAccount" required><option value="" disabled selected>Select a bank account</option><option value="nbm">National Bank (**** 1234)</option><option value="standard">Standard Bank (**** 5678)</option><option value="fdh">FDH Bank (**** 9012)</option></select></div><div class="mb-2"><label for="bankWithdrawAmount" class="form-label">Amount (MK)</label><input type="number" class="form-control bg-dark text-white" id="bankWithdrawAmount" placeholder="Enter amount in MK" min="100" max="4364.26" required></div><button type="submit" class="btn btn-danger w-100">Withdraw Funds</button></form><p class="text-muted mt-2 small"><strong>Note:</strong> Available balance: MK 4,364.26. Withdrawals may take 1-3 business days.</p></div></div></div></div><div class="modal fade" id="creditCardDepositModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-credit-card me-2"></i>Credit/Debit Card Deposit</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><p class="text-muted mb-2">Instantly deposit funds using your Visa or Mastercard.</p><form id="creditCardDepositForm"><div class="mb-2"><label for="cardNumber" class="form-label">Card Number</label><input type="text" class="form-control bg-dark text-white" id="cardNumber" placeholder="XXXX XXXX XXXX XXXX" maxlength="19" required></div><div class="row g-2 mb-2"><div class="col-6"><label for="expiryDate" class="form-label">Expiry Date</label><input type="text" class="form-control bg-dark text-white" id="expiryDate" placeholder="MM/YY" maxlength="5" required></div><div class="col-6"><label for="cvv" class="form-label">CVV</label><input type="text" class="form-control bg-dark text-white" id="cvv" placeholder="XXX" maxlength="3" required></div></div><div class="mb-2"><label for="cardDepositAmount" class="form-label">Amount (MK)</label><input type="number" class="form-control bg-dark text-white" id="cardDepositAmount" placeholder="Enter amount in MK" min="100" required></div><button type="submit" class="btn btn-success w-100">Deposit Funds</button></form><p class="text-muted mt-2 small"><strong>Note:</strong> Ensure your card is enabled for online transactions.</p></div></div></div></div><div class="modal fade" id="orderDetailsModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-dark"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-receipt-cutoff me-2"></i>Order Details</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="stock-info-row"><span class="stock-info-label">Date</span><span id="modalOrderDate" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Company</span><span id="modalOrderCompany" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Action</span><span id="modalOrderAction" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Order Type</span><span id="modalOrderType" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Quantity</span><span id="modalOrderQuantity" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Total Cost</span><span id="modalOrderCost" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Status</span><span id="modalOrderStatus" class="stock-info-value"></span></div><div class="stock-info-row"><span class="stock-info-label">Order ID</span><span id="modalOrderID" class="stock-info-value"></span></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script><script>const user={name:"John Doe",profilePic:null},profilePicContainer=document.getElementById("profile-pic-container");user.profilePic?profilePicContainer.innerHTML=`<img src="${user.profilePic}" alt="User Profile">`:document.getElementById("user-initials").textContent=user.name.split(" ").map(e=>e[0]).join("").toUpperCase();const sidebar=document.querySelector(".sidebar"),notificationsIcon=document.querySelector(".notifications-icon"),sections=document.querySelectorAll(".content-section"),navItems=document.querySelectorAll(".nav-item"),companyCards=document.querySelectorAll(".company-card"),companyTitles=document.querySelectorAll(".card-title"),stockModal=new bootstrap.Modal(document.getElementById("stockQuoteModal"));function showSection(e){sections.forEach(t=>{t.classList.remove("active"),t.querySelector(".loading").style.display="none"});const t=document.getElementById(e);t&&(t.querySelector(".loading").style.display="block",setTimeout(()=>{t.querySelector(".loading").style.display="none",t.classList.add("active"),"market"===e&&initializeMarketCharts(),"portfolio"===e&&initializePortfolioCharts(),"trade"===e&&initializeTradeSection(),"transfers"===e&&initializeTransfersSection()},300),window.scrollTo({top:0,behavior:"smooth"})),navItems.forEach(t=>t.classList.remove("active"));const n=document.querySelector(`.nav-item[href="#${e}"]`);n&&n.classList.add("active"),localStorage.setItem("lastSectionIndex2",e)}function handleNavClick(e){e.preventDefault();const t=e.target.closest("a").getAttribute("href").substring(1);showSection(t),window.location.hash=t,sidebar.classList.remove("active")}navItems.forEach(e=>e.addEventListener("click",handleNavClick)),window.addEventListener("load",()=>{const e=window.location.hash.substring(1)||localStorage.getItem("lastSectionIndex2")||"portfolio";showSection(e)}),window.addEventListener("hashchange",()=>showSection(window.location.hash.substring(1)||"portfolio")),notificationsIcon.addEventListener("click",e=>{e.stopPropagation(),sidebar.classList.toggle("active")}),document.addEventListener("click",e=>{e.target.closest(".sidebar")||e.target.closest(".notifications-icon")||sidebar.classList.remove("active")}),companyTitles.forEach(e=>e.textContent.length>15&&e.classList.add("long-name"));const companyData={"AIRTEL":{name:"Airtel Malawi Ltd",logo:"airtel.jpg",link:"https://www.airtel.mw"},"BHL":{name:"BHL Ltd",logo:"Bhl.png",link:"https://example.com/bhl"},"FDH":{name:"FDH Bank Ltd",logo:"FDH.png",link:"https://www.fdh.co.mw"},"FMBCH":{name:"FMB Capital Holdings",logo:"fmb.jpg",link:"https://www.fmbcapitalgroup.com"},"ICON":{name:"ICON Properties Ltd",logo:"icon.png",link:"https://example.com/icon"},"ILLOVO":{name:"Illovo Sugar Ltd",logo:"illovo.png",link:"https://www.illovosugar.co.mw"},"MPICO":{name:"MPICO Ltd",logo:"mpico.png",link:"https://www.mpico.mw"},"NBM":{name:"National Bank Ltd",logo:"Nb.png",link:"https://www.natbank.co.mw"},"NBS":{name:"NBS Bank Ltd",logo:"Nbs.png",link:"https://www.nbs.mw"},"NICO":{name:"NICO Holdings Ltd",logo:"Nico.png",link:"https://www.nico-holdings.com"},"NITL":{name:"NITL Ltd",logo:"Nitl.png",link:"https://example.com/nitl"},"OMU":{name:"Old Mutual Ltd",logo:"Omu.jpg",link:"https://www.oldmutual.com"},"PCL":{name:"Press Corp Ltd",logo:"Pcl.png",link:"https://www.presscorp.com"},"STANDARD":{name:"Standard Bank Ltd",logo:"Std.jpg",link:"https://www.standardbank.co.mw"},"SUNBIRD":{name:"Sunbird Tourism Ltd",logo:"Sunbird.svg",link:"https://www.sunbirdmalawi.com"},"TNM":{name:"Telekom Networks Ltd",logo:"Tnm.png",link:"https://www.tnm.co.mw"},"STANBIC":{name:"Standard Bank",logo:"Std.jpg",link:"https://www.standardbank.co.mw"}};const companyDetailsModal=new bootstrap.Modal(document.getElementById('companyDetailsModal'));companyCards.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-company"),n=e.querySelector(".card-title").textContent,a=e.querySelector(".card-text").textContent,l=e.querySelector(".share-price").textContent,o=e.querySelector(".daily-change").textContent,i=companyData[t];document.getElementById("modalCompanyName").textContent=a;document.getElementById("modalCompanyFullName").textContent=n;document.getElementById("modalCompanyTicker").textContent=a;document.getElementById("modalCompanyLogo").src=i.logo;document.getElementById("modalCurrentPrice").textContent=l;document.getElementById("modalDailyChange").textContent=o;document.getElementById("modalOpen").textContent="MK "+(parseFloat(l.replace("MK ",""))*0.98).toFixed(2);document.getElementById("modalHigh").textContent="MK "+(parseFloat(l.replace("MK ",""))*1.02).toFixed(2);document.getElementById("modalLow").textContent="MK "+(parseFloat(l.replace("MK ",""))*0.97).toFixed(2);document.getElementById("modalVolume").textContent=a.includes("245,670")?"245,670":a.includes("187,450")?"187,450":a.includes("156,230")?"156,230":(Math.floor(Math.random()*100000)+10000).toLocaleString();o.includes("+")?document.getElementById("modalDailyChange").className="stock-info-value price-change-up":document.getElementById("modalDailyChange").className="stock-info-value price-change-down";document.getElementById("companyDetailsName").textContent=n;document.getElementById("companyDetailsFullName").textContent=`${n} (${a}.mw)`;document.getElementById("companyDetailsLogo").src=i.logo;document.getElementById("companyDetailsSector").textContent="Technology Sector | Large Cap";document.getElementById("companyDetailsPrice").innerHTML=`${l} <span id="companyDetailsChange" class="badge ${o.includes("+")?"bg-success":"bg-danger"}">${o.split(" ")[1]}</span>`;document.getElementById("companyDetailsLastUpdate").textContent=`Last Updated: ${new Date().toLocaleTimeString('en-US',{hour12:false,timeZone:'GMT'})} GMT`;document.getElementById("companyDetailsOverview").textContent=i.overview||"No overview available.";document.getElementById("companyDetailsDayRange").textContent=`${document.getElementById("modalLow").textContent.replace("MK ","")} - ${document.getElementById("modalHigh").textContent.replace("MK ","")}`;document.getElementById("companyDetails52WRange").textContent=`MK ${(parseFloat(l.replace("MK ",""))*0.9).toFixed(2)} - MK ${(parseFloat(l.replace("MK ",""))*1.1).toFixed(2)}`;document.getElementById("companyDetailsVolume").textContent=document.getElementById("modalVolume").textContent;document.getElementById("companyDetailsMarketCap").textContent=`MK ${(parseFloat(l.replace("MK ",""))*100000).toLocaleString().split(".")[0]}B`;document.getElementById("companyDetailsPE").textContent=(Math.random()*20+15).toFixed(1);document.getElementById("companyDetailsDivYield").textContent=(Math.random()*2+0.5).toFixed(1)+"%";document.getElementById("companyDetailsRSI").innerHTML=`${(Math.random()*40+40).toFixed(1)} <span class="text-success">(Neutral)</span>`;document.getElementById("companyDetailsMACD").innerHTML=`${(Math.random()*2).toFixed(2)} <span class="text-success">(Bullish)</span>`;document.getElementById("companyDetails50DMA").textContent=`MK ${(parseFloat(l.replace("MK ",""))*0.95).toFixed(2)}`;document.getElementById("companyDetails200DMA").textContent=`MK ${(parseFloat(l.replace("MK ",""))*0.9).toFixed(2)}`;document.getElementById("companyDetailsTechSummary").textContent="Current price trading above key moving averages with moderate RSI. Short-term bullish trend.";document.getElementById("companyDetailsEPS").textContent=`MK ${(parseFloat(l.replace("MK ",""))*0.035).toFixed(2)}`;document.getElementById("companyDetailsROE").textContent=`${(Math.random()*15+10).toFixed(1)}%`;document.getElementById("companyDetailsDebtEquity").textContent=(Math.random()*0.5+0.3).toFixed(2);document.getElementById("companyDetailsPB").textContent=(Math.random()*3+3).toFixed(1);document.getElementById("companyDetailsFundSummary").textContent="Strong revenue growth (15% YoY) with healthy profit margins. Moderate valuation ratios compared to sector.";document.getElementById("companyDetailsNews").innerHTML=`<li class="mb-2"><small>${new Date().toISOString().split('T')[0]}</small><br><a href="#" class="text-white">${n} announces new partnership</a></li><li class="mb-2"><small>${new Date(Date.now()-86400000).toISOString().split('T')[0]}</small><br><a href="#" class="text-white">Q4 earnings beat estimates</a></li>`;document.getElementById("companyDetailsPEG").textContent=(Math.random()*0.8+0.8).toFixed(1);document.getElementById("companyDetailsCurrentRatio").textContent=(Math.random()*1.5+1).toFixed(1);document.getElementById("companyDetailsROIC").textContent=`${(Math.random()*8+8).toFixed(1)}%`;document.getElementById("companyDetailsEBITDA").textContent=`${(Math.random()*15+20).toFixed(0)}%`;document.getElementById("companyDetailsInst").style.width="45%";document.getElementById("companyDetailsInst").textContent="Institutions 45%";document.getElementById("companyDetailsInsiders").style.width="30%";document.getElementById("companyDetailsInsiders").textContent="Insiders 30%";document.getElementById("companyDetailsPublic").style.width="25%";document.getElementById("companyDetailsPublic").textContent="Public 25%";document.getElementById("modalDetailsBtn").onclick=()=>{stockModal.hide();companyDetailsModal.show();};stockModal.show();});});document.getElementById("bankDepositForm").addEventListener("submit",function(e){e.preventDefault();const bankAccount=document.getElementById("bankAccount").value;const amount=document.getElementById("bankDepositAmount").value;if(bankAccount&&amount){alert(`Deposit of MK${amount} from ${bankAccount} initiated. Processing may take 1-3 business days.`);this.reset();bootstrap.Modal.getInstance(document.getElementById("bankDepositModal")).hide();}else{alert("Please fill in all fields.");}});document.getElementById("bankWithdrawForm").addEventListener("submit",function(e){e.preventDefault();const bankAccount=document.getElementById("withdrawBankAccount").value;const amount=document.getElementById("bankWithdrawAmount").value;if(bankAccount&&amount){alert(`Withdrawal of MK${amount} to ${bankAccount} initiated. Processing may take 1-3 business days.`);this.reset();bootstrap.Modal.getInstance(document.getElementById("bankWithdrawModal")).hide();}else{alert("Please fill in all fields.");}});document.getElementById("creditCardDepositForm").addEventListener("submit",function(e){e.preventDefault();const cardNumber=document.getElementById("cardNumber").value;const expiryDate=document.getElementById("expiryDate").value;const cvv=document.getElementById("cvv").value;const amount=document.getElementById("cardDepositAmount").value;if(cardNumber&&expiryDate&&cvv&&amount){alert(`Deposit of MK${amount} via card ending in ${cardNumber.slice(-4)} initiated. Funds will be available instantly.`);this.reset();bootstrap.Modal.getInstance(document.getElementById("creditCardDepositModal")).hide();}else{alert("Please fill in all fields.");}});function initializeMarketCharts(){const e={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{color:"#495057"},ticks:{color:"#adb5bd"}},y:{grid:{color:"#495057"},ticks:{color:"#adb5bd"}}}},t=["6d","5d","4d","3d","2d","1d","Today"];new Chart(document.getElementById("masiChart"),{type:"line",data:{labels:t,datasets:[{data:[10500,10550,10600,10620,10700,10750,10800],borderColor:"#28a745",fill:!1}]},options:e}),new Chart(document.getElementById("dsiChart"),{type:"line",data:{labels:t,datasets:[{data:[8200,8250,8300,8280,8350,8400,8450],borderColor:"#28a745",fill:!1}]},options:e}),new Chart(document.getElementById("fsiChart"),{type:"line",data:{labels:t,datasets:[{data:[4500,4550,4530,4600,4650,4630,4700],borderColor:"#28a745",fill:!1}]},options:e})}function initializePortfolioCharts(){const e={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{color:"#495057"},ticks:{color:"#adb5bd"}},y:{grid:{color:"#495057"},ticks:{color:"#adb5bd"}}}},t=["6d","5d","4d","3d","2d","1d","Today"];new Chart(document.getElementById("performanceChart"),{type:"line",data:{labels:t,datasets:[{data:[25500,25650,25400,25700,25850,25500,26185.56],borderColor:"#28a745",fill:!1}]},options:e}),new Chart(document.getElementById("allocationChart"),{type:"doughnut",data:{labels:["AIRTEL","NBM","TNM","ILLOVO","PCL","Cash"],datasets:[{data:[6405.5,12400.22,2500,1791.69,2500.03,4364.26],backgroundColor:["#28a745","#17a2b8","#ffc107","#dc3545","#6f42c1","#adb5bd"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#d0d4d6",font:{size:12}}}}}})}function initializeTradeSection(){const e={AIRTEL:128.11,BHL:14.54,FDH:315.19,FMBCH:1412.24,ICON:17.94,ILLOVO:1791.69,MPICO:19,NBM:6200.11,NBS:348.99,NICO:779,NITL:634.09,OMU:1950.03,PCL:2500.03,STANDARD:7935.07,SUNBIRD:300.03,TNM:25},t=new Chart(document.getElementById("miniChart"),{type:"line",data:{labels:["","","","",""],datasets:[{data:[2,4,3,5,4],borderColor:"#28a745",tension:.4,borderWidth:1,pointRadius:0}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}}}});function n(t,n=0){const a=e[t]||128.11;document.getElementById("stockPrice").textContent=`MK${a.toFixed(2)}`,document.getElementById("priceChange").textContent=`+${(a/e[t]*2.56).toFixed(2)}%`;const l=n*a,o=l*.001,i=l+o+550;document.getElementById("sharesValue").textContent=`MK${l.toFixed(2)}`,document.getElementById("commission").textContent=`MK${o.toFixed(2)}`,document.getElementById("totalCost").textContent=`MK${i.toFixed(2)}`}document.getElementById("companySearch").addEventListener("input",e=>{const t=e.target.value.toLowerCase(),n=document.getElementById("searchResults"),a=document.querySelectorAll(".company-item");n.style.display=t?"block":"none",a.forEach(e=>e.style.display=e.textContent.toLowerCase().includes(t)?"block":"none")}),document.querySelectorAll(".company-item").forEach(e=>e.addEventListener("click",t=>{t.preventDefault();const a=e.textContent;document.getElementById("selectedCompany").textContent=a,document.getElementById("companySearch").value="",document.getElementById("searchResults").style.display="none";const l=document.getElementById("quantity").value||0;n(a,l)})),document.getElementById("btnSell").addEventListener("click",function(){this.classList.add("active"),document.getElementById("btnBuy").classList.remove("active")}),document.getElementById("btnBuy").addEventListener("click",function(){this.classList.add("active"),document.getElementById("btnSell").classList.remove("active")}),document.getElementById("quantity").addEventListener("input",function(){const e=document.getElementById("selectedCompany").textContent,t=this.value||0;n(e,t)}),document.getElementById("orderModal").addEventListener("show.bs.modal",()=>{document.getElementById("modalAction").textContent=document.getElementById("btnBuy").classList.contains("active")?"Buy":"Sell",document.getElementById("modalCompany").textContent=document.getElementById("selectedCompany").textContent,document.getElementById("modalType").textContent=document.getElementById("orderType").value,document.getElementById("modalQty").textContent=document.getElementById("quantity").value||0,document.getElementById("modalPrice").textContent=document.getElementById("stockPrice").textContent,document.getElementById("modalTotal").textContent=document.getElementById("totalCost").textContent});const a=["orderTypeFilter","actionFilter","statusFilter","dateFilter"];function l(){const e=document.getElementById("orderTypeFilter").value,t=document.getElementById("actionFilter").value,n=document.getElementById("statusFilter").value,a=document.getElementById("dateFilter").value,l=document.querySelectorAll("#ordersTable tr");l.forEach(l=>{const o=l.cells[0].textContent,i=l.cells[2].textContent,r=l.cells[3].textContent,d=l.cells[6].querySelector(".badge").textContent,c=!e||r===e,s=!t||i===t,u=!n||d===n,m=!a||o===a;l.style.display=c&&s&&u&&m?"":"none"})}a.forEach(e=>document.getElementById(e).addEventListener("change",l)),document.getElementById("confirmOrder").addEventListener("click",()=>{alert("Order placed successfully!"),bootstrap.Modal.getInstance(document.getElementById("orderModal")).hide()}),n("AIRTEL",0)}function initializeTransfersSection(){const e=["methodFilter","typeFilter","statusFilter","dateFilter"];function t(){const t=document.getElementById("methodFilter").value,n=document.getElementById("typeFilter").value,a=document.getElementById("statusFilter").value,l=document.getElementById("dateFilter").value,o=document.querySelectorAll("#transactionTable tr");o.forEach(o=>{const i=o.cells[1].textContent,r=o.cells[2].textContent,d=o.cells[4].querySelector(".badge").textContent,c=o.cells[0].textContent,s=!t||i===t,u=!n||r===n,m=!a||d===a,g=!l||c===l;o.style.display=s&&u&&m&&g?"":"none"})}e.forEach(e=>document.getElementById(e).addEventListener("change",t)),t();document.getElementById("mobileMoneyDepositForm").addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("depositProvider").value,n=document.getElementById("depositPhoneNumber").value,a=document.getElementById("depositAmount").value;t&&n&&a?(alert(`Deposit of MK${a} to ${t} via ${n} initiated. Please confirm on your mobile device.`),this.reset(),bootstrap.Modal.getInstance(document.getElementById("mobileMoneyDepositModal")).hide()):alert("Please fill in all fields.")}),document.getElementById("mobileMoneyWithdrawForm").addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("withdrawProvider").value,n=document.getElementById("withdrawPhoneNumber").value,a=document.getElementById("withdrawAmount").value;t&&n&&a?(alert(`Withdrawal of MK${a} to ${t} via ${n} initiated. Please confirm on your mobile device.`),this.reset(),bootstrap.Modal.getInstance(document.getElementById("mobileMoneyWithdrawModal")).hide()):alert("Please fill in all fields.")})}const transactionModal=new bootstrap.Modal(document.getElementById('transactionDetailsModal'));const orderModal=new bootstrap.Modal(document.getElementById('orderDetailsModal'));document.querySelectorAll('#transactionTable tr').forEach(row=>{row.addEventListener('click',()=>{const cells=row.cells;document.getElementById('modalTransDate').textContent=cells[0].textContent;document.getElementById('modalTransMethod').textContent=cells[1].textContent;document.getElementById('modalTransType').textContent=cells[2].textContent;document.getElementById('modalTransAmount').textContent=cells[3].textContent;document.getElementById('modalTransStatus').textContent=cells[4].querySelector('.badge').textContent;document.getElementById('modalTransID').textContent='TRX-'+Math.random().toString(36).substr(2,9).toUpperCase();const statusElement=document.getElementById('modalTransStatus');statusElement.className='stock-info-value';if(cells[4].querySelector('.badge').classList.contains('bg-success')){statusElement.classList.add('price-change-up');}else if(cells[4].querySelector('.badge').classList.contains('bg-danger')){statusElement.classList.add('price-change-down');}else{statusElement.classList.add('text-warning');}transactionModal.show();});});document.querySelectorAll('#ordersTable tr').forEach(row=>{row.addEventListener('click',()=>{const cells=row.cells;document.getElementById('modalOrderDate').textContent=cells[0].textContent;document.getElementById('modalOrderCompany').textContent=cells[1].textContent;document.getElementById('modalOrderAction').textContent=cells[2].textContent;document.getElementById('modalOrderType').textContent=cells[3].textContent;document.getElementById('modalOrderQuantity').textContent=cells[4].textContent;document.getElementById('modalOrderCost').textContent=cells[5].textContent;document.getElementById('modalOrderStatus').textContent=cells[6].querySelector('.badge').textContent;document.getElementById('modalOrderID').textContent='ORD-'+Math.random().toString(36).substr(2,9).toUpperCase();const statusElement=document.getElementById('modalOrderStatus');statusElement.className='stock-info-value';if(cells[6].querySelector('.badge').classList.contains('bg-success')){statusElement.classList.add('price-change-up');}else if(cells[6].querySelector('.badge').classList.contains('bg-danger')){statusElement.classList.add('price-change-down');}else{statusElement.classList.add('text-warning');}orderModal.show();});});</script></body></html>